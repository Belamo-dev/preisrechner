---
const {
  client = "ca-pub-XXXXXXXXXXXXXXX",
  slot = "0000000000",
  format = "auto",
  responsive = true,
} = Astro.props;

const enabled = import.meta.env.PUBLIC_ADSENSE_ENABLED === "1";
---

{enabled ? (
  <>
    <script
      async
      src={`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${client}`}
      crossorigin="anonymous"
    />
    <ins
      class="adsbygoogle"
      style="display:block; margin: 16px 0;"
      data-ad-client={client}
      data-ad-slot={slot}
      data-ad-format={format}
      data-full-width-responsive={responsive ? "true" : "false"}
    />
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </>
) : (
  <div style="border:1px dashed #24314f; border-radius:12px; padding:12px; color:#9fb0d0; margin:16px 0;">
    Werbung Platzhalter (AdSense noch deaktiviert)
  </div>
)}
